[Unit]
Description=Plex Proxy Pi WireGuard keepalive
Wants=network-online.target wg-quick@wg0.service
After=network-online.target wg-quick@wg0.service
ConditionPathExists=/usr/local/bin/plexproxy-keepalive
ConditionPathExists=/etc/plexproxy/config.env

[Service]
Type=oneshot
ExecStart=/usr/local/bin/plexproxy-keepalive
User=root
# Low priority to not interfere with streaming
Nice=19
IOSchedulingClass=idle

[Install]
WantedBy=multi-user.target
